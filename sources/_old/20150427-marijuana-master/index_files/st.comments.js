;(function($){function ST_comments(){this.init();}
ST_comments.prototype.init=function(){this.$livefyre=$('#livefyre-cont');this.$showCommentsTxt=$('.js-comments-show-txt');this.commentsShowing=false;this.bindHandlers();this.commentHash();};ST_comments.prototype.bindHandlers=function(){$('.js-comments-show').on('click',$.proxy(this.toggleComments,this));$('.js-show-comment-standards').on('click',$.proxy(this.toggleCommentStandards,this));$('[href="#comments"]').on('click',$.proxy(this.showComments,this));};ST_comments.prototype.commentHash=function(){if(window.location.hash=="#comments"){this.showComments();}};ST_comments.prototype.toggleComments=function(){if(this.commentsShowing===true){this.hideComments();}else{this.showComments();}
return false;};ST_comments.prototype.showComments=function(){this.$livefyre.addClass('is-showing-comments');this.$showCommentsTxt.text('hide comments');this.commentsShowing=true;reloadTimerActive=false;if(typeof addUsernameToOmnitureBeaconParameters==='function'&&typeof commentQueryStrings!=='undefined'){if(typeof commentQueryStrings[window.location.pathname]!=='undefined'){var queryString={};for(var key1 in commentQueryStrings[window.location.pathname]){queryString[key1]=commentQueryStrings[window.location.pathname][key1];}
queryString=addUsernameToOmnitureBeaconParameters(queryString,true,false);var analyticsParams=[];for(var key2 in queryString){analyticsParams.push(queryString[key2]);}
this.$showCommentsTxt.data('analytics-querystring',analyticsParams.join('&'));}
var trackingUrl=this.$showCommentsTxt.data('analytics-url');var trackingParams=this.$showCommentsTxt.data('analytics-querystring');if((typeof trackingUrl!==undefined&&trackingUrl!=='')&&(trackingParams!==undefined&&trackingParams!=='')){$('.comments-image-tracking').attr('src',trackingUrl+'?'+ trackingParams);}}};ST_comments.prototype.hideComments=function(){this.$livefyre.removeClass('is-showing-comments');this.$showCommentsTxt.text('view comments');this.commentsShowing=false;};ST_comments.prototype.toggleCommentStandards=function(){$('.comment-standards-txt').toggleClass('is-showing-comment-standards');return false;};new ST_comments();})(jQuery);