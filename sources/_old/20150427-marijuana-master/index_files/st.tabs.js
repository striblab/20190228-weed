(function(window,document,$,swiper,undefined){'use strict';var $window=$(window);var $document=$(document);var $tabMods;var $forecastSwipers;var hasForecast=false;function init(){$tabMods=$('.js-tab-mod');$tabMods.on('click','.js-tab-link',changeViews);$tabMods.on('click','.js-tab-next',shiftMenuLeft);$tabMods.on('click','.js-tab-prev',shiftMenuRight);$forecastSwipers=$('.js-forecast-swiper-container');hasForecast=$forecastSwipers.length?true:false;if(((document.documentMode||100)<9)&&hasForecast){$('.js-forecast-btn-next').hide();$('.js-forecast-btn-prev').hide();}else if(hasForecast&&$().swiper){initForecastSwiper($forecastSwipers);}}
function changeViews(event){event.preventDefault();var $this=$(this);var $parent=$this.parents('.js-tab-mod');var target=$this.attr('href').slice(1);$parent.find('.is-current').removeClass('is-current');$this.parent().addClass('is-current');var $tabView=$parent.find('.'+ target);$tabView.addClass('is-current');if($tabView.hasClass('js-scroll-to')){var $scrollToItem=$tabView.find("."+ $tabView.data('scroll-to'));$tabView.parents('.tab-view-mod').scrollTop($tabView.scrollTop()+ $scrollToItem.position().top- 15);}
if(hasForecast){$parent.find('.js-tab-view-btn.is-current').removeClass('is-current');$parent.find('.js-forecast-btn-'+ target).addClass('is-current');}}
function shiftMenuLeft(event){event.preventDefault();var $parent=$(this).parents('.js-tab-mod');$parent.addClass('is-left');}
function shiftMenuRight(event){event.preventDefault();var $parent=$(this).parents('.js-tab-mod');$parent.removeClass('is-left');}
function initForecastSwiper($containers){var swipers=[];$containers.each(function(index){var $this=$(this);var count=$this.data('swiper-count');var $nextBtn=$this.nextAll('.js-forecast-btn-next').first();var $prevBtn=$this.nextAll('.js-forecast-btn-prev').first();swipers[index]=$this.swiper({mode:'horizontal',loop:false,slidesPerView:count,slidesPerGroup:count,cssWidthAndHeight:'height',onSlideChangeStart:function(){if(swipers[index].activeIndex==0){$prevBtn.removeClass('is-visible');}else if(swipers[index].activeIndex==(swipers[index].slides.length- count)){$nextBtn.removeClass('is-visible');}else{$nextBtn.addClass('is-visible');$prevBtn.addClass('is-visible');}}});$nextBtn.on('click',function(e){e.preventDefault();swipers[index].swipeNext();});$prevBtn.on('click',function(e){e.preventDefault();swipers[index].swipePrev();});});}
init();}(window,window.document,window.jQuery,window.swiper));